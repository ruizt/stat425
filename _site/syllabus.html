<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Fall 2024">
<meta name="dcterms.date" content="2024-11-25">

<title>STAT425 - Course Syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-H3YKZX4J88"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-H3YKZX4J88', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STAT425</span>
    </a>
  </div>
        <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Course Syllabus</h1>
<p class="subtitle lead">STAT425 Probability Theory</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Term</div>
    <div class="quarto-title-meta-contents">
             <p>Fall 2024 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Updated</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 25, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<blockquote class="blockquote">
<p>Probability is the mathematics of random events. In the context of modern statistics, probability theory provides a framework for studying the properties of samples, estimators, and inferences (the subjects of STAT 426 and STAT 427). This course will cover the axiomatic formulation of probability and formalize familiar concepts, including basic probability rules, random variables, distributions, and expectations. The course will also introduce concepts that play central roles in statistics, such as joint distributions, transformations, and conditional expectations.</p>
</blockquote>
<p><strong>Instructor:</strong> Trevor Ruiz (he/him/his) [<a href="mailto:truiz01@calpoly.edu">email</a>] [<a href="https://tdruiz.com">website</a>]</p>
<p><strong>Learning assistant:</strong> Edy Reynolds [<a href="mailto:ereyno11@calpoly.edu">email</a>]</p>
<p><strong>Class meetings:</strong></p>
<ul>
<li>[Section 01] 12:10pm – 2:00pm MW 186-C300</li>
<li>[Section 02] 2:10pm – 4:00pm MW 186-C300</li>
</ul>
<p><strong>Office hours (OH) and learning assistant hours (LAH)</strong>:</p>
<ul>
<li><p>[OH] M 4:00pm – 5:30pm [<a href="https://calendly.com/tdruiz/office-hour">by appointment</a>]</p></li>
<li><p>[LAH] T 11:00am — 12:00pm 25-107G or Zoom</p></li>
<li><p>[OH] W 9:30am – 11:00am [<a href="https://calendly.com/tdruiz/office-hour">by appointment</a>]</p></li>
<li><p>[LAH] R 11:00am — 12:00pm 25-107G or Zoom</p></li>
</ul>
<p>For office hours, drop ins are welcome (25-236) but availability is not guaranteed without an appointment. For LA hours, availability is drop-in only on a first come, first served basis.</p>
<section id="catalog-description" class="level2">
<h2 class="anchored" data-anchor-id="catalog-description">Catalog Description</h2>
<p>Rigorous development of probability theory. Probability axioms, combinatorial methods, conditional and marginal probability, independence, random variables, univariate and multivariate probability distributions, conditional distributions, transformations, order statistics, expectation and variance. Use of statistical simulation throughout the course. 4 lectures. Prerequisite: MATH 241; MATH 248 or CSC 348; and STAT 305. Recommended: STAT 301.</p>
</section>
<section id="textbook" class="level2">
<h2 class="anchored" data-anchor-id="textbook">Textbook</h2>
<p>The following text is <strong>required</strong>:</p>
<ul>
<li>Hogg, McKean, &amp; Craig, <em>Introduction to Mathematical Statistics</em>, 8th edition, Pearson.</li>
</ul>
<p>We will cover chapters 1 and 2. Homework assignments will be drawn from the text.</p>
<p>You can purchase or rent a print or electronic copy through the bookstore, or rent an electronic copy for $11/mo through the [<a href="https://www.pearson.com/en-us/subject-catalog/p/introduction-to-mathematical-statistics/P200000006211/9780137530687">publisher’s website</a>]. Additionally, a desk copy is available in StatLab (25-107B).</p>
</section>
<section id="learning-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="learning-outcomes">Learning outcomes</h2>
<p>By the end of the course, successful students will:</p>
<ul>
<li>[L1] be familiar with the basic approaches to the definition of probability;</li>
<li>[L2] understand basic theory to construct probability models for both discrete and continuous random variables;</li>
<li>[L3] understand and be able to use distribution functions;</li>
<li>[L4] understand the meaning and the applications of joint probability and joint distribution functions;</li>
<li>[L5] understand the concept of expectations with respect to a given probability function;</li>
<li>[L6] understand the meaning of conditional and marginal probability functions.</li>
</ul>
</section>
<section id="assessments" class="level2">
<h2 class="anchored" data-anchor-id="assessments">Assessments</h2>
<p>Your attainment of learning outcomes will be measured by homework assignments, in-class quizzes, and a comprehensive final exam. These are described below, with the relative contributions to final grades indicated parenthetically.</p>
<ul>
<li><p><strong>Homework (20%).</strong> Homework problems will be given every class and due the next class meeting. Typically, problem sets will be very short (3 problems), and we will devote some time to working on them together in class on the day they are assigned. Homework assignments will be collected and checked for completion but <em>not</em> graded; therefore, it is your responsibility to ensure your work is correct by checking solutions when provided, consulting with classmates, and attending office hours.</p></li>
<li><p><strong>Quizzes (60%).</strong> Quizzes will be given approximately biweekly in class. These are summative assessments and you should prepare for them as you would an exam. You will be allowed 50 minutes to complete each quiz and up to 4 (one-sided) pages of notes. We will review solutions in class following each quiz, during which time you will be expected to self-assess your work before it is submitted for grading. You will have the opportunity to submit revisions to earn back a portion of missed credit.</p></li>
<li><p><strong>Final exam (20%).</strong> A comprehensive common final exam will be given on Saturday, December 7, tentatively from 1:10pm – 4pm, with time and location to be confirmed as soon as such are issued by the registrar. The final will be <del>open-book and</del> open-note, but notes must be either written or printed on paper; there is no page or content limit to printed notes.</p></li>
</ul>
<p>Your scores will be recorded in Canvas for your reference along with an estimate of your running course total on a 0-100 scale. Tentatively, letter grades will span the following ranges: A (90, 100]; B (80, 90]; C (65, 80]; D (50, 65]; F [0, 50]. Please note these are <em>rough</em> estimates and subject to change without notice. Please also note that failure to adhere to course policies may result in a lower letter grade than would otherwise be assigned.</p>
</section>
<section id="schedule" class="level2">
<h2 class="anchored" data-anchor-id="schedule">Tentative schedule</h2>
<p>Subject to change at instructor discretion.</p>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Topics</th>
<th>Readings</th>
<th>Assignments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1 (9/23)</td>
<td>Set theory, probability axioms</td>
<td>1.2, 1.2.1, 1.2.2, 1.3</td>
<td></td>
</tr>
<tr class="even">
<td>2 (9/30)</td>
<td>Counting methods</td>
<td>1.3.1, 1.3.2</td>
<td></td>
</tr>
<tr class="odd">
<td>3 (10/7)</td>
<td>Conditional probability</td>
<td>1.4</td>
<td>Quiz 1 (M)</td>
</tr>
<tr class="even">
<td>4 (10/14)</td>
<td>Independence; random variables</td>
<td>1.4.1, 1.5</td>
<td></td>
</tr>
<tr class="odd">
<td>5 (10/21)</td>
<td>Distribution functions; discrete random variables and transformations</td>
<td>1.5, 1.6, 1.6.1</td>
<td>Quiz 2 (M)</td>
</tr>
<tr class="even">
<td>6 (10/28)</td>
<td>Continuous random variables and transformations; expectation</td>
<td>1.7, 1.7.2, 1.8, 1.9</td>
<td></td>
</tr>
<tr class="odd">
<td>7 (11/4)</td>
<td>Normal distribution; probability inequalities</td>
<td>1.10</td>
<td>Quiz 3 (M)</td>
</tr>
<tr class="even">
<td>8 (11/12) <em>Veteran’s day observed 11/11</em></td>
<td>Bivariate distributions and transformations</td>
<td>2.1, 2.1.1, 2.1.2, 2.2</td>
<td></td>
</tr>
<tr class="odd">
<td>9 (11/18)</td>
<td>Conditional distributions</td>
<td>2.3</td>
<td>Quiz 4 (W)</td>
</tr>
<tr class="even">
<td><em>Fall break (11/25)</em></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>10 (12/2)</td>
<td>Independence, covariance, and correlation</td>
<td>2.4, 2.5</td>
<td></td>
</tr>
<tr class="even">
<td><em>Finals</em></td>
<td></td>
<td></td>
<td>Common final <strong>Saturday 12/7</strong> 1:10pm – 4:00pm PST 10-220</td>
</tr>
</tbody>
</table>
</section>
<section id="tips-for-success" class="level2">
<h2 class="anchored" data-anchor-id="tips-for-success">Tips for success</h2>
<p>I want you to succeed in this course. Below are three simple but effective habits:</p>
<ol type="1">
<li><p>don’t ignore the reading</p>
<ul>
<li><p><em>before class:</em> skim the assigned reading for key concepts, definitions, and theorems</p></li>
<li><p><em>after class:</em> reread carefully, paying special attention to portions discussed in class, and review relevant proofs and other derivations in detail</p></li>
</ul></li>
<li><p>form a study group with a regular meeting time</p></li>
<li><p>before quizzes, do these two things in the following order:</p>
<ul>
<li><p>prepare a set of summary notes covering definitions and theorems based on the text, class notes, and your notes</p></li>
<li><p>try practice problems from the relevant sections in the book</p>
<ul>
<li><p>find the “Goldilocks problems”: not too hard and not too obvious</p></li>
<li><p>go for variety (some proofs, some applied problems, multiple topics)</p></li>
</ul></li>
</ul></li>
</ol>
<p>If you find yourself falling behind at any point during the quarter, or feel you are struggling with the course, please come and talk with me. The sooner you reach out, the more options I’ll have to help you.</p>
</section>
<section id="policies" class="level2">
<h2 class="anchored" data-anchor-id="policies">Policies</h2>
<section id="time-commitment" class="level3">
<h3 class="anchored" data-anchor-id="time-commitment">Time commitment</h3>
<p>STAT425 is a four-credit course, which corresponds to a <em>minimum</em> time commitment of 12 hours per week, including class meetings, reading, assignments, and study time.</p>
<p>In order to succeed in the course, you should expect to invest between 12 and 16 hours per week on average. Please let me know if you are regularly exceeding this amount or if you need help managing your time efficiently in the course. While I aim to keep the workload fairly even throughout the quarter, you should allow an extra hour or two in your schedule to accommodate week to week variations in workload as needed.</p>
</section>
<section id="attendance-and-absences" class="level3">
<h3 class="anchored" data-anchor-id="attendance-and-absences">Attendance and absences</h3>
<p>Regular attendance is essential for success in the course and required per University policy. Absences should be <a href="https://academicprograms.calpoly.edu/content/academicpolicies/class-attendance">excusable</a>, but you do not need to notify me unless you anticipate an extended absence or will miss an in-class assessment; I trust you to adhere to Cal Poly norms and policies regarding class attendance.</p>
<p>If you are absent and miss an in-class quiz, please contact me to arrange for a make-up; in this circumstance, University academic integrity policies prohibit you from discussing the quiz with students who took it in class.</p>
</section>
<section id="collaboration" class="level3">
<h3 class="anchored" data-anchor-id="collaboration">Collaboration</h3>
<p>Collaboration with classmates is encouraged on homework assignments but not allowed on quizzes or the final exam. If you work with a group on homework problems, you are expected to be an active contributor and prepare your own solutions in your own words and writing, and by submitting your work you are attesting that you have met this expectation. You should not distribute or accept copies of written solutions under any circumstances.</p>
</section>
<section id="communication-and-email" class="level3">
<h3 class="anchored" data-anchor-id="communication-and-email">Communication and email</h3>
<p>I encourage you to ask questions in class and during office hours, since that is the only certain means of obtaining a response within a guaranteed time frame.</p>
<p>I respond to most email within 24 weekday hours, but I cannot guarantee this response time and I occasionally miss messages altogether (though I try not to). I don’t answer emails at night or on weekends, so while you are welcome to write me outside of business hours, please don’t expect a reply until the following business day. I also sometimes get behind on answering emails, so please wait a few days (preferably one week if it’s not pressing) before sending a follow up or reminder.</p>
<p>Please do not ask technical questions about problems or course material by email.</p>
</section>
<section id="late-and-missing-work" class="level3">
<h3 class="anchored" data-anchor-id="late-and-missing-work">Late and missing work</h3>
<p>I understand that unexpected circumstances may arise and require you to temporarily rearrange your priorities and commitments on occasion during the quarter. You may, at any time during the quarter and without notice or penalty, use the following personal exceptions:</p>
<ul>
<li><p>turn in two homework assignments up to one week late</p></li>
<li><p>miss one homework assignment altogether</p></li>
</ul>
<p>Once your personal exceptions are exhausted, homework assignments turned in up to one week late will be awarded 50% credit unless an extension is granted in advance, and missing assignments will be counted at zero credit.</p>
<p>No other late work — <em>i.e.</em>, quizzes, quiz revisions, homework assignments turned in more than one week late, or the final exam — will be accepted unless an exception to this policy is granted. I will consider exceptions for personal and medical emergencies or other similarly unforeseeable circumstances.</p>
</section>
<section id="grades-and-assessments" class="level3">
<h3 class="anchored" data-anchor-id="grades-and-assessments">Grades and assessments</h3>
<p>I make my best effort to assess your work fairly and accurately and to apply assessment criteria consistently across the class. While I sometimes do so imperfectly, I am also aware that granting adjustments to scores or grades can disadvantage more reticent students and favor those more comfortable approaching me about credit awarded on course assessments.</p>
<p>So, in consideration of maintaining fairness and consistency, I ask that you limit requests for reassessment to clear mistakes, discrepancies, or oversights; and I also ask that you please <em>do</em> let me know if you think such an error has likely occurred. Please raise any such issues in a timely manner and not at the end of the quarter.</p>
<p>Per University policy, faculty have final responsibility for grading criteria and grading judgment and have the right to alter student assessment or other parts of the syllabus during the term. It is not appropriate to attempt to negotiate scores or final grades. Once the term has concluded, final grades will only be changed in the case of clerical errors, without exception. If you feel your grade is unfairly assigned at the end of the course, you have the right to appeal it according to the procedure outlined <a href="https://academicprograms.calpoly.edu/content/academic-petition-appeals">here</a>.</p>
</section>
<section id="accommodations" class="level3">
<h3 class="anchored" data-anchor-id="accommodations">Accommodations</h3>
<p>It is University policy to provide, on a flexible and individualized basis, reasonable accommodations to students who have disabilities that may affect their ability to participate in course activities or to meet course requirements. Accommodation requests should be made through the <a href="https://drc.calpoly.edu">Disability Resource Center</a> (DRC).</p>
</section>
<section id="conduct-and-academic-integrity" class="level3">
<h3 class="anchored" data-anchor-id="conduct-and-academic-integrity">Conduct and Academic Integrity</h3>
<p>You are expected to be aware of and adhere to University policy regarding academic integrity and conduct. Detailed information on these policies, and potential repercussions of policy violations, can be found via the <a href="https://osrr.calpoly.edu">Office of Student Rights &amp; Responsibilities</a> (OSRR).</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© 2024 Trevor Ruiz</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>