<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="STAT425">

<title>STAT425 - Course syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-H3YKZX4J88"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-H3YKZX4J88', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STAT425</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./syllabus.html" rel="" target="" aria-current="page">
 <span class="menu-text">Course syllabus</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#course-information" id="toc-course-information" class="nav-link active" data-scroll-target="#course-information">Course information</a></li>
  <li><a href="#catalog-description" id="toc-catalog-description" class="nav-link" data-scroll-target="#catalog-description">Catalog Description</a></li>
  <li><a href="#textbook-and-references" id="toc-textbook-and-references" class="nav-link" data-scroll-target="#textbook-and-references">Textbook and references</a></li>
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link" data-scroll-target="#learning-outcomes">Learning outcomes</a></li>
  <li><a href="#assessments" id="toc-assessments" class="nav-link" data-scroll-target="#assessments">Assessments</a></li>
  <li><a href="#tentative-schedule" id="toc-tentative-schedule" class="nav-link" data-scroll-target="#tentative-schedule">Tentative schedule</a></li>
  <li><a href="#course-policies" id="toc-course-policies" class="nav-link" data-scroll-target="#course-policies">Course policies</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Course syllabus</h1>
<p class="subtitle lead">Probability Theory</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Course listing</div>
    <div class="quarto-title-meta-contents">
             <p>STAT425 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Updated</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="course-information" class="level3">
<h3 class="anchored" data-anchor-id="course-information">Course information</h3>
<p><strong>Instructor:</strong> Trevor Ruiz (he/him/his) [<a href="mailto:truiz01@calpoly.edu">email</a>]</p>
<p><strong>Class meetings:</strong></p>
<ul>
<li>[Section 01/3585] 4:10pm – 5:00pm MTWR Construction Innovations Center Room C201</li>
<li>[Section 02/3430] 5:10pm – 6:00pm MTWR Construction Innovations Center Room C201</li>
</ul>
<p><strong>Office hours:</strong> 2:00pm – 3:00pm TWR 25-236 and <a href="https://calendly.com/tdruiz/student">by appointment</a></p>
<p>Probability is the mathematics of random events. It is an active field of study and provides the theoretical foundation for the discipline of statistics. This course aims to formalize familiar probability concepts covered in prior coursework (predominantly STAT 305), including probability rules, random variables, common distributions, and expected value. We will build on prior experience and intuition and develop tools to support deeper inquiry and subsequent study of mathematical statistics in STAT 426 and STAT 427. Students will also be introduced to potentially new concepts that play central roles in statistics such as joint distributions, transformations, and conditional expectation. Lectures will provide an exposition of definitions, properties, theorems, and examples, and offer a venue for discussion; students will practice applying this material to solve probability problems on homework assignments and demonstrate fluency with key concepts on in-class exams.</p>
</section>
<section id="catalog-description" class="level3">
<h3 class="anchored" data-anchor-id="catalog-description">Catalog Description</h3>
<p>Rigorous development of probability theory. Probability axioms, combinatorial methods, conditional and marginal probability, independence, random variables, univariate and multivariate probability distributions, conditional distributions, transformations, order statistics, expectation and variance. Use of statistical simulation throughout the course. 4 lectures. Prerequisite: MATH 241; MATH 248 or CSC 348; and STAT 305. Recommended: STAT 301.</p>
</section>
<section id="textbook-and-references" class="level3">
<h3 class="anchored" data-anchor-id="textbook-and-references">Textbook and references</h3>
<p>There is no required textbook for the course. However, the overall course organization will closely follow chapters 1 through 4 of DeGroot &amp; Schervish, and exposition of this material will follow Hogg &amp; Craig, which is slightly more formal in style. These books are listed below.</p>
<ul>
<li><p>(recommended) DeGroot &amp; Schervish, <em>Probability and Statistics</em>, 4th edition, Addison-Wesley.</p></li>
<li><p>(reference) Hogg, McKean, &amp; Craig, <em>Introduction to Mathematical Statistics</em>, 8th edition, Pearson.</p></li>
</ul>
<p>Desk copies of DeGroot &amp; Schervish are available in StatLab (25-107B).</p>
</section>
<section id="learning-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="learning-outcomes">Learning outcomes</h3>
<p>The course aims to enable students to:</p>
<ul>
<li><p>use the axiomatic construction of probability to derive properties of probability measures and conditional probability measures, and apply definitions and properties to solve probability problems <!-- CLO 1, 3; EO a --></p></li>
<li><p>construct probability models for discrete and continuous random variables, develop familiarity with common probability distributions, and use distribution functions to derive properties such as expectations and variances <!-- CLO 2, 4, 5; EO b, c, e --></p></li>
<li><p>determine joint distributions for collections of random variables, and use joint distribution functions to (a) derive properties such as covariance and correlation, (b) to determine conditional and marginal distributions, and (c) derive distributions of transformations and functions of one or more random variables <!-- CLO 6, 7; EO d, f --></p></li>
</ul>
</section>
<section id="assessments" class="level3">
<h3 class="anchored" data-anchor-id="assessments">Assessments</h3>
<p>Attainment of learning outcomes will be measured by evaluation of submitted homework assignments and exams. Letter grades will be assigned based on a weighted average of scores, with the relative weighting approximately as indicated in parentheses below.</p>
<ul>
<li><p><strong>Homeworks (50%).</strong> Homework assignments will be given approximately weekly (except for exam weeks and holidays). The goal of homework assignments is to provide opportunities for students to reinforce key concepts, definitions, and results through practice and to develop and apply problem-solving abilities. These will be distributed on Thursday each week in which they are assigned and due in class the following Thursday; in general, each assignment will consist of questions pertaining to material discussed in class during the preceding week. Students are encouraged to collaborate on homework assignments, but are expected to prepare submissions individually and indicate in writing on their submission any classmates they collaborated with (see collaboration policy below). Submissions should reflect students’ best effort and will be evaluated based on completeness, organization, and correctness of selected answers. Each student’s lowest homework score will be omitted in grade calculations; otherwise, all homework scores will be weighted equally.</p></li>
<li><p><strong>Midterms (30%).</strong> Two midterm exams will be given during the quarter at approximately four-week intervals as shown on the tentative schedule below. The goal of the midterm exams is to assess students’ ability to use key concepts, definitions, and results in furtherance of course learning outcomes. Midterms will be given in class on Thursdays during indicated weeks and consist of 2-3 questions that must be answered individually during the allotted time without consulting anyone except the instructor. Students will be allowed one sheet of notes that they may consult while taking each exam. Answers will be evaluated based on completeness and correctness. While both midterm exams will count towards final grades, whichever exam receives the higher score will be weighted more heavily in grade calculations.</p></li>
<li><p><strong>Final (20%).</strong> A final exam will be given in the usual classroom at the time scheduled by the registrar. The goal of the final exam is to assess students’ integration of the course material in furtherance of course learning oucomes. For Section 01, the final will be held on Wednesday, December 13, 4:10pm — 7:00pm; for Section 02, the final will be held on Friday, December 15, 4:10pm — 7:00pm. The final will consist of 4-6 questions that must be answered individually during the allotted time without consulting anyone except the instructor. Students will be allowed one sheet of notes that they may consult while taking the final. Its scope will be cumulative but emphasis will be on later material. Answers will be evaluated based on completeness and correctness.</p></li>
</ul>
<p>Every effort will be made to return evaluated work within one week of submission. Final exams, per University policy, will be retained by the instructor. Scores will be recorded in Canvas, and students will be responsible for checking their scores to ensure accurate data entry upon receipt of evaluated work.</p>
<p>Very roughly, letter grades will be assigned as follows. A: 90-100. B: 75-90. C: 60-75. D: 50-60. However, please note that <a href="https://catalog.calpoly.edu/academicstandardsandpolicies/grading/">letter grades represent <em>qualitative</em> assessments of attainment of course objectives</a>, and as such these ranges may be adjusted at instructor discretion to ensure apporpriate correspondence with letter grade definitions based on course assessments. Please also note that failure to adhere to course policies — particularly collaboration, academic integrity, and attendance policies — may result in a lower letter grade than would otherwise be assigned.</p>
</section>
<section id="tentative-schedule" class="level3">
<h3 class="anchored" data-anchor-id="tentative-schedule">Tentative schedule</h3>
<p>Subject to change at instructor discretion.</p>
<table class="table">
<colgroup>
<col style="width: 24%">
<col style="width: 27%">
<col style="width: 24%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Lecture Topic</th>
<th>Suggested reading</th>
<th>Assignments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0 (9/21)</td>
<td>Course introduction</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>1 (9/25)</td>
<td>Probability axioms and properties</td>
<td>1.4–1.6</td>
<td>HW1</td>
</tr>
<tr class="odd">
<td>2 (10/2)</td>
<td>Counting methods</td>
<td>1.7–1.10</td>
<td>HW2</td>
</tr>
<tr class="even">
<td>3 (10/9)</td>
<td>Conditional probability and independence</td>
<td>2.1–2.2</td>
<td>HW3</td>
</tr>
<tr class="odd">
<td>4 (10/16)</td>
<td>Bayes’ theorem</td>
<td>2.3–2.4</td>
<td>Midterm 1</td>
</tr>
<tr class="even">
<td>5 (10/23)</td>
<td>Discrete and continuous random variables</td>
<td>3.1–3.3</td>
<td>HW4</td>
</tr>
<tr class="odd">
<td>6 (10/30)</td>
<td>Joint and conditional distributions</td>
<td>3.4–3.7</td>
<td>HW5</td>
</tr>
<tr class="even">
<td>7 (11/6)</td>
<td>Transformations and order statistics</td>
<td>3.8–3.9</td>
<td>HW6</td>
</tr>
<tr class="odd">
<td>8 (11/13)</td>
<td>Expectation</td>
<td>4.1–4.2</td>
<td>Midterm 2</td>
</tr>
<tr class="even">
<td><em>Fall break (11/20)</em></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>9 (11/27)</td>
<td>Variance and covariance</td>
<td>4.3, 4.6</td>
<td>HW7</td>
</tr>
<tr class="even">
<td>10 (12/4)</td>
<td>Conditional expectation</td>
<td>4.7</td>
<td></td>
</tr>
<tr class="odd">
<td><em>Finals (12/11)</em></td>
<td></td>
<td></td>
<td>Final</td>
</tr>
</tbody>
</table>
</section>
<section id="course-policies" class="level3">
<h3 class="anchored" data-anchor-id="course-policies">Course policies</h3>
<section id="collaboration" class="level4">
<h4 class="anchored" data-anchor-id="collaboration">Collaboration</h4>
<p>Collaboration within the class (including across class sections) is allowed (and encouraged!) on homework assignments, subject to certain conditions outlined in the paragraph below. Collaboration does not include consulting individuals outside of the class. Students collaborating with a group are expected to prepare their own solutions, in their own words and writing, and are required to indicate their collaborators in writing on their submission. Submissions that do not indicate any collaborators will be understood to represent the sole and independent effort of the student named on the submission.</p>
<p>A collaboration is a shared effort. Students that choose to work together on homework assignments are expected to make material contributions towards producing one or more shared answers or solutions. Material contributions might include participation in discussions, critique of a proposed solution, or presentation of a problem approach. In the absence of such contributions, submitting shared answers is not appropriate and, depending on the circumstances, may constitute an act of dishonesty. The best way to ensure that a group effort is consistent with this collaboration policy is to agree that all team members will attempt all or most of each assignment individually prior to engaging in any discussions.</p>
</section>
<section id="attendance" class="level4">
<h4 class="anchored" data-anchor-id="attendance">Attendance</h4>
<p>Regular attendance is essential for success in the course and required per University policy. Each student may miss two class meetings without notice but subsequent absences should be <a href="https://academicprograms.calpoly.edu/content/academicpolicies/class-attendance">excusable</a>. Unexcused absences may negatively impact course grades.</p>
</section>
<section id="communication-and-email" class="level4">
<h4 class="anchored" data-anchor-id="communication-and-email">Communication and email</h4>
<p>Students are encouraged to use face-to-face means of communication (office hours, class meetings, appointments) when possible. Email may be used on a secondary basis or when a written record of communication is needed. Every effort is made to respond to email within 48 weekday hours — so a message sent Thursday or Friday may not receive a reply until Monday or Tuesday. Time-sensitive messages should be identified as such in the subject line. Students should wait one week before sending a reminder.</p>
</section>
<section id="time-commitment" class="level4">
<h4 class="anchored" data-anchor-id="time-commitment">Time commitment</h4>
<p>STAT425 is a four-credit course, which corresponds to a minimum time commitment of 12 hours per week, including lectures, reading, homework assignments, and study time. Some variability in workload by week should be expected, and most students will need to budget a few extra hours each week. However, students can expect to be able to meet course expectations with a time commitment less than 16 hours per week, and are encouraged to notify the instructor if they are regularly exceeding this amount.</p>
</section>
<section id="assignment-scores-and-final-grades" class="level4">
<h4 class="anchored" data-anchor-id="assignment-scores-and-final-grades">Assignment scores and final grades</h4>
<p>Every effort will be made to provide consistent and fair evaluation of student work. Students should notify the instructor of any errors and/or discrepancies in evaluation promptly and on an assignment-by-assignment basis (<em>i.e.,</em> not at the end of the quarter) to guarantee consideration for correction. Final grades will only be changed in the case of clerical errors. Negotiating scores or final grades is not appropriate. Per University policy, faculty have final responsibility for grading criteria and grading judgment and have the right to alter student assessment or other parts of the syllabus during the term. If any student feels their grade is unfairly assigned at the end of the course, they have the right to appeal it according to the procedure outlined <a href="https://academicprograms.calpoly.edu/content/academic-petition-appeals">here</a>.</p>
</section>
<section id="late-work" class="level4">
<h4 class="anchored" data-anchor-id="late-work">Late work</h4>
<p>Each student may turn in two homework assignments up to one week late without penalty at any time during the quarter and without notice. Subsequently, assignments turned in up to one week late will be evaluated for 75% credit unless an extension is granted in advance. No late work will be accepted beyond one week after the original due date. This policy applies to homework assignments only, and not exams.</p>
</section>
<section id="accommodations" class="level4">
<h4 class="anchored" data-anchor-id="accommodations">Accommodations</h4>
<p>It is University policy to provide, on a flexible and individualized basis, reasonable accommodations to students who have disabilities that may affect their ability to participate in course activities or to meet course requirements. Accommodation requests should be made through the <a href="https://drc.calpoly.edu">Disability Resource Center</a> (DRC).</p>
</section>
<section id="conduct-and-academic-integrity" class="level4">
<h4 class="anchored" data-anchor-id="conduct-and-academic-integrity">Conduct and Academic Integrity</h4>
<p>Students are expected to be aware of and adhere to University policy regarding academic integrity and conduct. Detailed information on these policies, and potential repercussions of policy violations, can be found via the <a href="https://osrr.calpoly.edu">Office of Student Rights &amp; Responsibilities</a> (OSRR).</p>
</section>
<section id="copyright-and-distribution-of-course-materials" class="level4">
<h4 class="anchored" data-anchor-id="copyright-and-distribution-of-course-materials">Copyright and distribution of course materials</h4>
<p>All course materials, including handouts, homework assignments, study guides, course notes, exams, and solutions are subject to copyright; students are not permitted to share or distribute any course materials without the explicit written consent of the instructor. This includes, in particular, uploading materials or prepared solutions to online services and sharing materials or prepared solutions with students who may take the course in a future term. Transgressions of this policy compromise the effectiveness of course assessments and do a disservice to future students.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">© 2023 Trevor Ruiz</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>